<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-SLF3SBB5DT"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-SLF3SBB5DT');
        </script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="csrf-token" content="MrlI89DTNUWUoGs09S1hfAAX0pFHTWICF3om4T3w">
        
        <title>Instructional Material, Reference/ Text Book, Module, Monographs | PUP eQAR</title>

        <link rel="icon" href="https://beta.pup.edu.ph/qar/favicon.ico">
        <!-- Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">

        <!-- Styles -->
        <link rel="stylesheet" type="text/css" href="=../css/twitter-bootstrap.css"/>
        <link rel="stylesheet" type="text/css" href="../dataTables.bootstrap4.min.css"/>
        <link rel="stylesheet" href="../dist/markdown-toolbar.css" type="text/css" />
        <link href="../dist/filepond-plugin-image-preview.min.css" rel="stylesheet" />
        <link href="../dist/filepond-plugin-file-poster.css" rel="stylesheet" />
        <link href="../dist/filepond.min.css" rel="stylesheet" />
        <link href="../dist/lightbox.css" rel="stylesheet" />
        <link rel="stylesheet" type="text/css" href="../css/bootstrap-icons.css"> <!--added-->
        <link rel="stylesheet" href="../dist/selectize.bootstrap4.css">
        <link rel="stylesheet" href="../css/app.css">

        <!-- Scripts -->
        <script src="https://beta.pup.edu.ph/qar/js/fontawesome.js" crossorigin="anonymous"></script>
        <script src="../js/jquery.js"></script>
        <script src="../dist/filepond-plugin-image-preview.min.js"></script>
        <script src="../dist/filepond-plugin-file-validate-size.min.js"></script>
        <script src="../dist/filepond-plugin-file-poster.js"></script>
        <script src="../dist/filepond-plugin-file-validate-type.js"></script>
        <script src="../dist/filepond-plugin-image-exif-orientation.min.js"></script>
        <script src="../dist/filepond-plugin-file-encode.min.js"></script>
        <script src="../lightbox2/dist/js/lightbox.js"></script>
        <script src="../dist/filepond.min.js"></script>
        <!-- JavaScript Bundle with Popper -->
        <script src="../js/app.js"></script>
        <script src="../dist/chart.min.js"></script>

        <!-- Bootstrap Datepicker Resources -->
        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
        <!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script> -->
        <script src="../js/bootstrap-datepicker.js"></script>
        <link rel="stylesheet" href="../css/datepicker.css"/>

        
        <link rel="stylesheet" href="../css/sweetalert2.min.css">

        
        <script src="../js/sweetalert2.all.min.js"></script>

    </head>
    <body class="font-sans antialiased bg-light" style="background-image: https://beta.pup.edu.ph/qar/storage/cover2.png">
        <!-- Loading Screen-->
        <div id="loading">
            <div class="d-flex justify-content-center">
                <div class="spinner-border text-danger font-weight-bold page-spinner" style="width: 3rem; height: 3rem;" role="status">
                    <span class="visually-hidden"></span>
                </div>
            </div>
        </div>
        <!--Navigation Bar-->
        <!-- Page Heading -->
                <!-- Page Content -->
        <main class="container my-5">
            <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h3 class="font-weight-bold mb-2">Instructional Material, Reference/ Text Book, Module, Monographs</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="alert alert-info" role="alert">
    <i class="bi bi-lightbulb-fill"></i><strong>Reminders:</strong><br>
    <div class="ml-3">
                &#8226; Once you submit an accomplishment, you are not allowed to edit until the 
            quarter ends. If you want access to edit, go to Reports tab and click "Request to Return".
            <br>
        &#8226; The submission is based on the end date of the activity/accomplishment.
            <br>
        &#8226; You can submit your accomplishments for the Quarter 2 on or before 
             June 30, 2023.
            <br>
        &#8226; Remarks with "For Submission" are given based on the date of accomplishment.
            <br>
        &#8226; To submit, make sure to finalize and click the "Submit" button on the right side of the table below.
    </div>
</div>
<div class="alert alert-info" role="alert">
    <i class="bi bi-lightbulb-fill"></i><strong>Instructions:</strong><br>
    <div class="ml-3">
        &#8226; Click "Add an accomplishment" button to add your entry and click "Save".
        <br>
        &#8226; In research and extension program/project/activity, view the accomplishments where you are tagged by clicking "Research/Extensions to Add (Tagged by your Partner/Lead) and click "Confirm".
        <br>
        &#8226; To submit, make sure to finalize and click the "Submit" button on the right side of the table below.
    </div>
</div>                        <div class="mb-3 ml-1">
                            <div class="d-inline mr-2">
                                <a href="https://beta.pup.edu.ph/qar/individual-accomplishments/instructional-material/create" class="btn btn-success"><i class="bi bi-plus"></i> Add an accomplishment</a>
                            </div>
                        </div>
                        <hr>
                        <div class="table-responsive" style="overflow-x:auto;">
                            <table class="table" id="accomplishment-table">
                                <thead>
    <tr>
        <th></th>
                <th>Title</th>
        <th>Category</th>
                <!-- Common Headings -->
        <th>Date</th>
        <th>Where to Commit</th>
        <th>Notes</th>
        <th>Actions</th>
    </tr>
</thead>
<tbody>
                    <tr class="tr-hover" role="button">
            <td>1</td>
                        <td>Instructional Material</td>
            <td>Instructional Material</td>
                                    <td>February 17, 2023 - February 17, 2023 - February 22, 2023</td>
            <td>College of Education</td>
            <td>-</td>
            <td>
                <div class="btn-group d-inline-flex align-items-stretch" role="group" aria-label="button-group">
    <a role="button" class="btn btn-primary d-inline-flex align-items-center" href="https://beta.pup.edu.ph/qar/individual-accomplishments/181/instructional-material/show">View</a>
                            <a role="button" class="btn btn-warning d-inline-flex align-items-center" href="https://beta.pup.edu.ph/qar/individual-accomplishments/181/instructional-material/edit">Edit</a>
            <form action="https://beta.pup.edu.ph/qar/submissions/check/15/181" class="d-flex" method="post">
                <input type="hidden" name="_token" value="MrlI89DTNUWUoGs09S1hfAAX0pFHTWICF3om4T3w">                <button class="btn btn-primary d-inline-flex align-items-center" type="submit">Submit</button>
            </form>
                        <button type="button" value="181" class="btn btn-danger d-inline-flex align-items-center" data-bs-toggle="modal" data-bs-target="#deleteModal" data-bs-title="Instructional Material" data-bs-route="https://beta.pup.edu.ph/qar/individual-accomplishments/181/instructional-material/destroy">Delete</button>
    </div>

            </td>
        </tr>
                <tr class="tr-hover" role="button">
            <td>2</td>
                        <td>test 10.17</td>
            <td>Instructional Material</td>
                                    <td>October 29, 2022 - October 29, 2022 - January 01, 1970</td>
            <td>PUP TAGUIG CITY BRANCH</td>
            <td>-</td>
            <td>
                <div class="btn-group d-inline-flex align-items-stretch" role="group" aria-label="button-group">
    <a role="button" class="btn btn-primary d-inline-flex align-items-center" href="https://beta.pup.edu.ph/qar/individual-accomplishments/109/instructional-material/show">View</a>
                            <a role="button" class="btn btn-warning d-inline-flex align-items-center" href="https://beta.pup.edu.ph/qar/individual-accomplishments/109/instructional-material/edit">Edit</a>
            <form action="https://beta.pup.edu.ph/qar/submissions/check/15/109" class="d-flex" method="post">
                <input type="hidden" name="_token" value="MrlI89DTNUWUoGs09S1hfAAX0pFHTWICF3om4T3w">                <button class="btn btn-primary d-inline-flex align-items-center" type="submit">Submit</button>
            </form>
                        <button type="button" value="109" class="btn btn-danger d-inline-flex align-items-center" data-bs-toggle="modal" data-bs-target="#deleteModal" data-bs-title="test 10.17" data-bs-route="https://beta.pup.edu.ph/qar/individual-accomplishments/109/instructional-material/destroy">Delete</button>
    </div>

            </td>
        </tr>
                <tr class="tr-hover" role="button">
            <td>3</td>
                        <td>TEST 10.17</td>
            <td>Instructional Material</td>
                                    <td>October 20, 2022 - October 20, 2022 - January 01, 1970</td>
            <td>PUP TAGUIG CITY BRANCH</td>
            <td>-</td>
            <td>
                <div class="btn-group d-inline-flex align-items-stretch" role="group" aria-label="button-group">
    <a role="button" class="btn btn-primary d-inline-flex align-items-center" href="https://beta.pup.edu.ph/qar/individual-accomplishments/108/instructional-material/show">View</a>
                            <a role="button" class="btn btn-warning d-inline-flex align-items-center" href="https://beta.pup.edu.ph/qar/individual-accomplishments/108/instructional-material/edit">Edit</a>
            <form action="https://beta.pup.edu.ph/qar/submissions/check/15/108" class="d-flex" method="post">
                <input type="hidden" name="_token" value="MrlI89DTNUWUoGs09S1hfAAX0pFHTWICF3om4T3w">                <button class="btn btn-primary d-inline-flex align-items-center" type="submit">Submit</button>
            </form>
                        <button type="button" value="108" class="btn btn-danger d-inline-flex align-items-center" data-bs-toggle="modal" data-bs-target="#deleteModal" data-bs-title="TEST 10.17" data-bs-route="https://beta.pup.edu.ph/qar/individual-accomplishments/108/instructional-material/destroy">Delete</button>
    </div>

            </td>
        </tr>
                <tr class="tr-hover" role="button">
            <td>4</td>
                        <td>instructional material</td>
            <td>Instructional Material</td>
                                    <td>October 28, 2022 - October 28, 2022 - October 29, 2022</td>
            <td>PUP TAGUIG CITY BRANCH</td>
            <td>-</td>
            <td>
                <div class="btn-group d-inline-flex align-items-stretch" role="group" aria-label="button-group">
    <a role="button" class="btn btn-primary d-inline-flex align-items-center" href="https://beta.pup.edu.ph/qar/individual-accomplishments/107/instructional-material/show">View</a>
                            <a role="button" class="btn btn-warning d-inline-flex align-items-center" href="https://beta.pup.edu.ph/qar/individual-accomplishments/107/instructional-material/edit">Edit</a>
            <form action="https://beta.pup.edu.ph/qar/submissions/check/15/107" class="d-flex" method="post">
                <input type="hidden" name="_token" value="MrlI89DTNUWUoGs09S1hfAAX0pFHTWICF3om4T3w">                <button class="btn btn-primary d-inline-flex align-items-center" type="submit">Submit</button>
            </form>
                        <button type="button" value="107" class="btn btn-danger d-inline-flex align-items-center" data-bs-toggle="modal" data-bs-target="#deleteModal" data-bs-title="instructional material" data-bs-route="https://beta.pup.edu.ph/qar/individual-accomplishments/107/instructional-material/destroy">Delete</button>
    </div>

            </td>
        </tr>
            </tbody>
<!-- resubmission Modal -->
<div class="modal fade" id="resubmissionModal" tabindex="-1" aria-labelledby="resubmissionModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="resubmissionModalLabel">Submission of an accomplishment under Instructional Material, Reference/ Text Book, Module, Monographs</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form action="" id="resubmissionForm" method="POST">
        <input type="hidden" name="_token" value="MrlI89DTNUWUoGs09S1hfAAX0pFHTWICF3om4T3w">        <div class="modal-body">
          <p>We noticed that the date of your accomplishment is not covered under Quarter 2 of 2023.</p>
          <p>Are you sure you want to submit this accomplishment to Quarter 2 QAR? If yes, please leave a note to the reviewers about what causes your late encoding/submission.</p>
                    <span id="itemToSubmit"></span>
          <textarea required class="form-control" name="late_reporting_note" id="late_reporting_note" rows="3"></textarea>
          <input type="hidden" id="level" name="level" value=>
          <input type="hidden" id="office_id" name="office_id" value=>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary" id="save-btn">Submit</button>
        </div>
      </form>
    </div>
  </div>
</div>
<script>
  var modal = document.getElementById('resubmissionModal')
  modal.addEventListener('show.bs.modal', function (event) {
    var button = event.relatedTarget
    var title = button.getAttribute('data-bs-title')
    var url = button.getAttribute('data-bs-url')
    var itemToSubmit = modal.querySelector('#itemToSubmit')
    itemToSubmit.textContent = 'Title of accomplishment: ' + title
    document.getElementById('resubmissionForm').action = url;
  });
</script>                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <h5 class="text-center">Are you sure you want to delete this accomplishment?</h5>
            <p id="itemToDelete" class="text-center h4"></p>
            <form action="" id="deleteForm" method="POST">
                <input type="hidden" name="_method" value="delete">                <input type="hidden" name="_token" value="MrlI89DTNUWUoGs09S1hfAAX0pFHTWICF3om4T3w">        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary mb-2" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-danger mb-2 mr-2">Delete</button>
            </form>
        </div>
    </div>
</div>
        </main>

                    <script>
        //Item to delete to display in delete modal
        var deleteModal = document.getElementById('deleteModal')
        deleteModal.addEventListener('show.bs.modal', function (event) {
            var button = event.relatedTarget
            var title = button.getAttribute('data-bs-title')
            var route = button.getAttribute('data-bs-route')
            var itemToDelete = deleteModal.querySelector('#itemToDelete')
            itemToDelete.textContent = title
            document.getElementById('deleteForm').action = route;
        });
    </script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.1/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.1/js/dataTables.bootstrap4.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#accomplishment-table').DataTable();
        });
    </script>
        <script>
        $(function(){
            getNotifications();

            setInterval(getNotifications, 30000);
        });

        function getNotifications(){
            var count = 0;
            var countALL = 0;
            setTimeout(function (){
                var api = 'https://beta.pup.edu.ph/qar/get-notifications';
                
                $.get(api, function (data){
                    var countColumns = 0;
                    
                    var countUnread = 0;
                    $('.notification-content').remove();
                    data.forEach(function(item){

                    countColumns ++;
                    $('#notification_nav_table').append('<tr role="button" id="notification-'+countColumns+'" class="d-flex notification-content"></tr>');

                    if(item.data.type == 'received'){
                        if(item.data.accomplishment_type == 'individual'){
                            $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-info-'+countColumns+'" data-url="'+item.data.url+'" data-id="'+item.id+'" class="notif-row noti-message text-dark p-2">'+
                                item.data.sender+' <span class="text-success">received</span> your '+item.data.category_name+' accomplishment.'+
                                '<div class="text-muted"><small>'+item.data.date+'</small></div>' +
                                '</div></td>'
                            );
                        }
                        else if(item.data.accomplishment_type == 'department'){
                            $('#notification-'+countColumns)
                            .append(
                                '<div id="noti-info-'+countColumns+'" data-url="'+item.data.url+'" data-id="'+item.id+'" class="notif-row noti-message text-dark p-2">'+
                                item.data.sender+' <span class="text-success">received</span> the '+item.data.category_name+' accomplishment'+
                                ' of '+item.data.department_name+
                                '<div class="text-muted"><small>'+item.data.date+'</small></div>' +
                                '</div>'
                            );
                        }
                        else if(item.data.accomplishment_type == 'college'){
                            $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-info-'+countColumns+'" data-url="'+item.data.url+'" data-id="'+item.id+'" class="notif-row noti-message text-dark p-2">'+
                                item.data.sender+' <span class="text-success">received</span> the '+item.data.category_name+' accomplishment'+
                                ' of '+item.data.college_name+
                                '<div class="text-muted"><small>'+item.data.date+'</small></div>' +
                                '</div></td>'
                            );
                        }
                    }
                    else if(item.data.type == 'returned'){
                        if(item.data.accomplishment_type == 'individual'){
                            $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-info-'+countColumns+'" data-url="'+item.data.url+'" data-id="'+item.id+'" class="notif-row noti-message text-dark p-2">'+
                                item.data.sender+' <span class="text-danger">returned</span> your '+item.data.category_name+' accomplishment.'+
                                '<div class="text-muted"><small>'+item.data.date+'</small></div>' +
                                '</div></td>'
                            );
                        }
                        else if(item.data.accomplishment_type == 'department'){
                            $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-info-'+countColumns+'" data-url="'+item.data.url+'" data-id="'+item.id+'" class="notif-row noti-message text-dark p-2">'+
                                item.data.sender+' <span class="text-danger">returned</span> the '+item.data.category_name+' accomplishment'+
                                ' of '+item.data.department_name+
                                '<div class="text-muted"><small>'+item.data.date+'</small></div>' +
                                '</div></td>'
                            );
                        }
                        else if(item.data.accomplishment_type == 'office'){
                            $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-info-'+countColumns+'" data-url="'+item.data.url+'" data-id="'+item.id+'" class="notif-row noti-message text-dark p-2">'+
                                item.data.sender+' <span class="text-danger">returned</span> the '+item.data.category_name+' accomplishment'+
                                ' of '+item.data.college_name+
                                '<div class="text-muted"><small>'+item.data.date+'</small></div>' +
                                '</div></td>'
                            );
                        }
                    }
                    //
                    else if(item.data.type == 'res-invite'){
                        $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-all-info-'+countColumns+'" data-url="https://beta.pup.edu.ph/qar/research-accomplishments/research/index" data-id="'+item.id+'" class="notif-row   noti-message text-dark">'+
                                item.data.sender+' tagged you in a research titled : "'+item.data.title+'"'+
                                '</div>'+
                                '<div><a href="'+item.data.url_accept+'?id='+item.id+'"class="btn btn-sm  btn-primary mr-2">Confirm</a>'+
                                '<a href="'+item.data.url_deny+'?id='+item.id+'"class="btn btn-sm btn-seconday mr-2">Cancel</a></div>'
                                +'<div class="text-muted"><small>'+item.data.date+'</small></div></td>'
                            );
                    }
                    else if(item.data.type == 'ext-invite'){
                        $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-all-info-'+countColumns+'" data-url="https://beta.pup.edu.ph/qar/extension-accomplishments/extension-program/index" data-id="'+item.id+'" class="notif-row   noti-message text-dark">'+
                                item.data.sender+' tagged you in an extension program/project/activity. '+
                                '</div>'+
                                '<div><a href="'+item.data.url_accept+'?id='+item.id+'"class="btn btn-sm  btn-primary mr-2">Confirm</a>'+
                                '<a href="'+item.data.url_deny+'?id='+item.id+'"class="btn btn-sm btn-seconday mr-2">Cancel</a></div>'
                                +'<div class="text-muted"><small>'+item.data.date+'</small></div></td>'
                            );
                    }
                    else if(item.data.type == 'res-confirm'){
                        $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-all-info-'+countColumns+'" data-url="'+item.data.url+'" data-id="'+item.id+'" class="notif-row  noti-message text-dark ml-2">'+
                                item.data.sender+' confirmed as a co-researcher of the research titled : "'+item.data.title+'".'+
                                '</div>'+
                                '<div class="text-muted ml-2"><small>'+item.data.date+'</small></div></td>'
                            );
                    }
                    else if(item.data.type == 'ext-confirm'){
                        $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-all-info-'+countColumns+'" data-url="'+item.data.url+'" data-id="'+item.id+'" class="notif-row  noti-message text-dark ml-2">'+
                                item.data.sender+' confirmed as your extension partner in an extension program/project/activity.'+
                                '</div>'+
                                '<div class="text-muted ml-2"><small>'+item.data.date+'</small></div></td>'
                            );
                    }
                    else if(item.data.type == 'research'){
                        $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-info-'+countColumns+'" data-url="'+item.data.url+'" data-id="'+item.id+'" class="notif-row noti-message text-dark p-2">'+
                                    'Your research titled '+item.data.research_title+' is due on '+item.data.target_date+'.'+
                                '</div>'+
                                '<div class="text-muted"><small>'+item.data.date+'</small></div></td>'
                            );
                    }
                    else if(item.data.type == 'deadline'){
                        $('#notification-'+countColumns)
                            .append('<td class="notification-content">'+
                                '<div id="noti-info-'+countColumns+'" data-url="'+item.data.url+'" data-id="'+item.id+'" class=" notif-row noti-message ">'+
                                    'Please be informed that the deadline of submission of eQAR is on '+item.data.deadline_date+'.'+
                                    ' You only have '+item.data.days_remaining+' day/s remaining to finalize.'+
                                '</div>'+
                                '<div class="text-muted"><small>'+item.data.date+'</small></div></td>'
                            );
                    }

                    if(item.read_at == null){
                        countUnread++;
                        $('#noti-info-'+countColumns).addClass("font-weight-bold");
                    }

                    countALL++;
                });


                if(countALL == 0){
                    $('#notification_nav_table').append('<tr id="notification-empty" class="notification-content"></tr>');
                    $('#notification-empty')
                        .append('<td class="notification-content text-center ">No Notifications</td>');
                        $('.see_all_div').remove();
                }
            });
            }, Math.floor(Math.random() * (3000 - 1) + 1));

            var api = 'https://beta.pup.edu.ph/qar/notifications/count-not-viewed';
			setTimeout(function (){
            $.get(api, function (data){

                $('#notificationCounter').text(data);
                if(data > 0){
                    document.getElementById('notificationCounter').classList.remove('notif-badge');
                    document.getElementById('notificationCounter').classList.add('badge-danger');
                }
                else{
                    document.getElementById('notificationCounter').classList.add('notif-badge');
                    document.getElementById('notificationCounter').classList.remove('badge-danger');
                }

            });  }, Math.floor(Math.random() * (3000 - 1) + 1));
        }

        $(document).on('click', '.notif-row', function(){
            var id = $(this).data("id");
            var url = $(this).data("url")
            // alert(1);
            if( url != ''){
                window.location.replace('https://beta.pup.edu.ph/qar'+'/notifications/mark-as-read?u='+url+'&v='+id);
            }
        });
    </script>
    <script>
        $('#notificationLink').on('click', function() {
            $( this ).toggleClass("active");

            var api = 'https://beta.pup.edu.ph/qar/notifications/count-reset';
            $.get(api, function (data){

                $('#notificationCounter').text(data);
                if(data > 0){
                    document.getElementById('notificationCounter').classList.remove('notif-badge');
                    document.getElementById('notificationCounter').classList.add('badge-danger');
                }
                else{
                    document.getElementById('notificationCounter').classList.add('notif-badge');
                    document.getElementById('notificationCounter').classList.remove('badge-danger');
                }

            });

        });
    </script>
    <script>
        $(document).click((event) => {
                if (!$(event.target).closest('#notificationDropdown').length) {
                    // the click occured outside
                    if (!$(event.target).closest('.notifDiv').length) {
                        document.getElementById('notificationLink').classList.remove('active');
                    }
                }
            });
    </script>
        <script>
            let dropdownBtn = document.querySelector('#accomplishmentlink');
            let menuContent = document.querySelector('.menu-sub');
            let menuLink = document.querySelectorAll('.menu-sub a');
            if (dropdownBtn != null) {
                dropdownBtn.addEventListener('click',()=>{
                    if (menuContent.style.display===""){
                        menuContent.style.display="block";
                        menuContent.style.cssFloat="none";
                    } else {
                        menuContent.style.display="";
                    }
                });
                menuContent.addEventListener('click', ()=>{
                    if (menuContent.style.display===""){
                        menuContent.style.display="block";
                    } else {
                        menuContent.style.display="";
                    }
                });

                for(var i=0; i < menuLink.length; i++) {
                    menuLink[i].addEventListener('click', ()=>{
                        menuContent.style.display="";
                    });
                }

                $(document).click((event) => {
                    if (!$(event.target).closest('#accomplishmentlink').length) {
                        // the click occured outside
                        if (!$(event.target).closest('.menu-sub').length) {
                            menuContent.style.display="";
                        }
                    }
                });
            }

        </script>
        <script>
            let notifBtn = document.querySelector('#notificationDropdown');
            let notifContent = document.querySelector('.notifDiv');
            let notifTable = document.querySelectorAll('.notifDiv td');
            notifBtn.addEventListener('click',()=>{
                if (notifContent.style.display===""){
                    notifContent.style.display="block";
                    notifContent.style.cssFloat="none";
                } else {
                    notifContent.style.display="";
                }
            });
            notifContent.addEventListener('click', ()=>{
                if (notifContent.style.display===""){
                    notifContent.style.display="block";
                } else {
                    notifContent.style.display="";
                }
            });

            for(var i=0; i < notifTable.length; i++) {
                notifTable[i].addEventListener('click', ()=>{
                    notifContent.style.display="";
                });
            }

            $(document).click((event) => {
                if (!$(event.target).closest('#notificationDropdown').length) {
                    // the click occured outside
                    if (!$(event.target).closest('.notifDiv').length) {
                        notifContent.style.display="";
                    }
                }
            });
        </script>
    
        <div id="fb-root"></div><!-- Messenger Chat Plugin Code -->
        <div id="fb-customer-chat" class="fb-customerchat"></div><!-- Your Chat Plugin code -->
        <script src="https://beta.pup.edu.ph/qar/js/bootstrap.bundle.min.js"></script>
        <script>
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
        })
        </script>
    </body>
</html>

<script>
    $(window).on('load',function(){
        const delayMs = 500; // delay in milliseconds
        setTimeout(function(){
            $('#modal').modal('show');
        }, delayMs);
        $("#error-modal-button-1").click(function() {
            $('#modal').modal('hide');
        });
        $("#error-modal-button-2").click(function() {
            $('#modal').modal('hide');
        });
    });

    function getVal(){
      var selectedValue = $('#commitment_measure').val();
      var myArray = selectedValue.split(",");
      console.log(myArray)
      if(myArray.includes("Timeliness")){
            $('.target_timeliness').show();
            $('.actual_timeliness').show();
            $('#target_timeliness').prop('required',true);
            $('#actual_timeliness').prop('required',true);
        }else{
            $('.target_timeliness').hide();
            $('.actual_timeliness').hide();
        }if(myArray.includes("Efficiency")){
            $('.target_efficiency').show();
            $('.actual_efficiency').show();
            $('#target_efficiency').prop('required',true);
            $('#actual_efficiency').prop('required',true);
        }else{
            $('.target_efficiency').hide();
            $('.actual_efficiency').hide();
        }if(myArray.includes("Quality")){
            $('.target_quality').show();
            $('.actual_quality').show();
            $('#target_quality').prop('required',true);
            $('#actual_quality').prop('required',true);
        }else{
            $('.target_quality').hide();
            $('.actual_quality').hide();
        }
    }

    $(document).ready(function() {
        getVal();
        $('#commitment_measure').change(function() {
            getVal();
        });
    });
</script>

<!-- Your SDK code -->
<script>
    var chatbox = document.getElementById('fb-customer-chat');
    chatbox.setAttribute("page_id", "101461845962090");
    chatbox.setAttribute("attribution", "biz_inbox");
</script>
<script>
    window.fbAsyncInit = function() {
        FB.init({
        xfbml            : true,
        version          : 'v14.0'
        });
    };
    (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>
<script>
    window.addEventListener('load', function () {
        $('#loading').fadeOut();
        // $('#to').prop('disabled', true);
        // $('#end_date').prop('disabled', true);
        // $('#date_completed').prop('disabled', true);
    });
    $('.selectize-input').change(function(){
           console.log("test");
    });

    $('#from').change(function(){
            $('#to').prop('disabled', false);
            $('#to').prop("min", $(this).val());
            $('#to');
    });
    $('#start_date').change(function(){
            $('#end_date').prop('disabled', false);
            $('#end_date').prop("min", $(this).val());
            $('#end_date');
    });
    $('#date_started').change(function(){
        $('#date_completed').prop('disabled', false).prop("min", $(this).val());
    });
    $('#date_completed').change(function(){
         var startdate = $('#date_started').val();
         if($(this).val() < startdate){
            $('#date_completed').addClass("is-invalid");
            Swal.fire({
            title: "Failed!",
            text: "Invalid Date completed.",
            confirmButton: false,
            confirmButtonColor: '#38c172',
            icon: "error",
            allowOutsideClick: false
        });
         }else{
            $('#date_completed').removeClass("is-invalid");
         }
    });

    $('#to').change(function(){
         var startdate = $('#from').val();
         if($(this).val() < startdate){
            $('#to').addClass("is-invalid");
            Swal.fire({
            title: "Failed!",
            text: "Invalid Date completed.",
            confirmButton: false,
            confirmButtonColor: '#38c172',
            icon: "error",
            allowOutsideClick: false
        });
         }else{
            $('#to').removeClass("is-invalid");
         }
    });

</script>

<script>
    // STANDARD POPUP ALERTS
    if(""){
        Swal.fire({
            title: "Success!",
            text: "",
            confirmButtonColor: '#38c172',
            icon: "success",
        });
    }
    if(""){
        Swal.fire({
            title: "Failed!",
            text: "",
            confirmButton: false,
            confirmButtonColor: '#38c172',
            icon: "error",
            allowOutsideClick: false
        });
    }
    if(""){
        Swal.fire({
            title: "Warning!",
            text: "",
            confirmButtonColor: '#38c172',
            icon: "warning",
            allowOutsideClick: false
        });
    }
    if(""){
        Swal.fire({
            title: "Information!",
            text: "",
            confirmButtonColor: '#38c172',
            icon: "info",
            allowOutsideClick: false
        });
    }
    // PUT YOUR CUSTOM POPUP ALERT BELLOW
    if(""){
        Swal.fire({
            title: "Submitted Successfully",
            text: "",
            confirmButtonColor: '#38c172',
            icon: "success"
        });
    }
    if(""){
        Swal.fire({
            title: "Failed to Submit!",
            html: "",
            confirmButtonColor: '#38c172',
            icon: "error",
            allowOutsideClick: false
        });
    }
    if(""){
        Swal.fire({
            title: "Successfully Saved!",
            text: "Accomplishment is ready for submission!",
            confirmButtonColor: '#38c172',
            icon: "success"
        });
    }
    if(""){
        Swal.fire({
            title: "Welcome to PUP eQAR!",
            text: "Before you explore, PUP eQAR needs to know your college, branch, campus, or office of designation.",
            confirmButtonColor: '#38c172',
            icon: "success",
            allowOutsideClick: false
        }).then(function() {
        // Redirect the user
        window.location.href = "https://beta.pup.edu.ph/qar/account-settings/offices/create";
        });
    }
    if(""){
        Swal.fire({
            title: "Next Step",
            text: "",
            confirmButtonColor: '#38c172',
            icon: "info",
            allowOutsideClick: false
        });
    }

    if(""){
        Swal.fire({
            title: "Oops!",
            text: "",
            confirmButtonColor: '#38c172',
            icon: "warning",
            allowOutsideClick: false
        });
    }
</script>
